const schedule = require("node-schedule");
const moment = require("moment-timezone");
const chalk = require("chalk");
const fs = require("fs");
const request = require("request");

module.exports.config = {
  name: "autosent",
  version: "10.0.0",
  hasPermssion: 0,
  credits: "ARIF BABU",
  description: "MADE BY ARIF BABU",
  commandCategory: "group messenger",
  usages: "[]",
  cooldowns: 3,
};

const messages = [
    { time: '12:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 12:00 ð—”ðŒ â³ âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ð”ðƒðšðšð’ ð‡ð® ððšð‘ ð“ð®ð‰ð¡ð’ðž ððšð‘ðšð™ ððšð‡ð¢ ð“ðžð‘ðž ððšð’ð¬ ððšð‡ð¢ ð‰ð¡ð¨ð¨ð“ ðŠðšð‡ð® ð“ð¨ ð¬ð ðŠð®ðœð‡ ð‡ ðŒðžð‘ðž ððšð’ð’ ðŽð« ð’ðšðœð‡ ðŠðšð‡ðš ð“ð¨ ð“ðžð‘ðž ð’ð¢ð–ðš ðŠð®ð‚ð¡ ðŠð‡ðšðšð’ ððšð‡ð¢ ï¼¿ã€‘ âŽ¯áªµâŽ¯ê¯­Ì½ð†¼ê¯­ðŸŒ¿ê¯­ ðŸ¥€ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '1:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 1:00 AðŒ â³ ð–ð¨ð‡ ðŠð¡ð®ð’ð¡ ð‡ð€ð¢ ððšð‘ ð’ð¡ðšð˜ðšð ð‡ð®ðŒ ð’ðž ððšð‡ð¢ ð–ð¨ð‡ ððšð‘ðšð‰ ð‡ðšð¢ ððšð‘ ð’ð¡ðšð˜ðšð ð‡ð®ðŒ ð’ðž ððšð‡ð¢ ðŠð¨ð ðŠðžð‡ðšð“ðš ð‡ðšð¢ ðŠðž ð”ð§ðŠðž ðƒð¢ð¥ð¥ ðŒðž ðŒð¨ð‡ð¨ððšðšð“ ððšð‡ð¢ ðŒð¨ð‡ð¨ððšðšð“ ð‡ðšð¢ ððšð‘ ð’ð¡ðšð˜ðšð ð‡ð®ðŒ ð’ðž ððšð¡ð¢  ï¼¿ã€‘  âŽ¯áªµâŽ¯ê¯­Ì½ð†¼ê¯­ðŸ˜˜ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '2:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 2:00 AðŒ â³ ðŒð®ð£ð¡ðŠð¨ ð€ð¢ð’ðš ðƒðšð«ðƒ ðŒð¢ð‹ðš ð‰ð¢ð¬ðŠð¢ ðƒðšð–ð€ ððšð‡ð¢ ððšð¢ð‘ ðð¡ð¢ ðŠð¡ð®ð’ð¡ ð‡ð®ð ðŒð®ð£ð‡ðž ð”ð¬ ð’ðž ðŠð¨ðˆ ð†ð¢ð¥ð€ ððšð‡ð¢ ð€ð®ð‘ ðŠð¢ð“ð§ð„ ð€ðšð§ð’ð® ððšð‡ðšð”ð§ ð€ð› ð”ð¬ ðŠðž ð‹ð¢ð˜ðš ð‰ð¢ð¬ðŠð¨ ðŠð¡ð”ððš ððž ðŒðžð‘ðž ððšð¬ð„ð„ð› ðŒðšðˆð§ ð‹ð¢ð¤ð‡ðš ð‡ð¢ððšð‡ð¢ ï¼¿ã€‘ âŽ¯áªµâŽ¯ê¯­Ì½ð†¼ê¯­ ðŸ˜³ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '3:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 3:00 AðŒ â³ ð€ðœðœð¡ðš ð¡ð¨ð ðš ððžðžð§ð ð€ðšð£ðšð²ðžðŸŒƒ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '4:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 4:00 AðŒ â³ ððžðžð§ð ð€ðšð£ðšð²ðž ðŸŒƒ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '5:00 AM', message: 'â—bâ”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 5:00 ð—”ðŒ â³ ð€ðšð¥ð¬ð¢ðŸ˜¹ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '6:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 6:00 AðŒ â³ ð€ð¬ð¬ðšð¥ðšð¦ð® ð€ð¥ðšð¢ð¤ð®ð¦ â¤ï¸ðŸ¥€ ðŸ’– â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '7:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 7:00 AðŒ â³ à¤¸à¥à¤¬à¤¹ à¤•à¥€ à¤¤à¤¾à¤œà¤—à¥€ à¤®à¥‡à¤‚,à¤–à¤¿à¤²à¥‡ à¤¹à¥ˆà¤‚ à¤¨à¤ à¤°à¤‚à¤—,à¤¹à¤° à¤à¤• à¤²à¤®à¥à¤¹à¤¾ à¤¹à¥ˆ à¤–à¥‚à¤¬à¤¸à¥‚à¤°à¤¤,à¤œà¥ˆà¤¸à¥‡ à¤¸à¤œà¥€ à¤¹à¥‹ à¤œà¤¿à¤‚à¤¦à¤—à¤¾à¤¨à¥€ à¤•à¤¾ à¤¢à¤‚à¤—..!!ðŸ¥° â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '8:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 8:00 AðŒ â³ ðŠðšðˆð¬ðš ðƒð¢ð¤ð‡ð“ðš ð‡ð® ðŠðšðˆð’ðš ð‹ðšð†ð“ðš ð‡ð® ðŠð²ð€ ð…ðšð‘ðª ððšð‘ð“ðš ð‡ðšðˆ ð“ðžð‘ðž ððšðƒ ðŠð¢ð’ð¢ ðŠð¨ ð€ðšðœð‡ðš ð‹ðšð ððš ðð¡ðˆ ðŒð®ð£ð‡ðž ð€ðšðœð‡ðš ððšð‡ð¢ ð‹ðšð ð“ðš ï¼¿ðŸ˜µ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '9:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 9:00 AðŒ â³  ððšðš ð‘ðšð¬ð“ð¨ð ððž ð’ðšðšð“ð¡ ðƒð¢ð˜ðš ððš ðŒðšð§ð™ð¢ð¥ ððž ðˆð§ð“ðžð™ðšðšð‘ ðŠð¢ð˜ðš ðŒðžð¢ð ðŠð²ð€ ð¥ð¢ðŠð‡ð® ð€ð©ðð¢ ð™ð¢ð§ðƒðšð†ð¢ ððšð‘ ðŒðžð‘ðž ð’ðšðšð“ð¡ ð“ð¨ ð”ð¦ðžðžðƒð¨ð§ ððž ðð¡ðˆ ðŒðšð™ðšðšðŠ ðŠð¢ð˜ðš ï¼¿ã€‘ âŽ¯áªµâŽ¯ê¯­Ì½ð†¼ê¯­ðŸŒ¿ê¯­. â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '10:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 10:00 AðŒ â³ ï¼¿ ððš ð‰ðšðšððž ðŠð¢ð’ ð“ðšð‘ðšð‡ ðŠðš ðˆð¬ð‡ðª ðŠðšð‘ ð‘ðžð‡ðž ð‡ðšðˆð§ ð‡ð®ðŒ ð‰ð¢ð’ð¤ð„ ð‡ð¨ ððšð‡ð¢ ð’ðšðŠð­ð„ ð”ð¬ ð‡ð¢ ðŠðž ð‡ð¢ ðŠðž ð‡ð¨ ð‘ðžð¡ð„ ð‡ðšðˆ ð‡ð®ðŒ ï¼¿ã€‘ âŽ¯áªµâŽ¯ê¯­Ì½ð†¼ê¯­ðŸ™€ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '11:00 AM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 11:00 AðŒ â³ ðšˆðšŽ ðš–ðš˜ðš‘ðšŠðš‹ðš‹ðšŠðš ðš”ðšŠ ðšðšŠðšœðšŠðš—ðšŠ ðš‹ðš‘ðš’ ðš‹ðšŠðšðšŠðš• ðš“ðšŠðšŠðš¢ðšŽðšðšŠ ðš†ðšŠðššðš ðš”ðšŽ ðšœðšŠðšŠðšðš‘ ðš£ðšŠðš–ðšŠðš—ðšŠ ðš‹ðš‘ðš’ ðš‹ðšŠðšðšŠðš• ðš“ðšŠðšŠðš¢ðšŽðšðšŠ !!ðŸ˜» â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '12:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 12:00 ððŒ â³ ð†ð¨ð¨ð ð€ðŸð­ðžð«ðð¨ð¨ð§ ð„ð¯ðžð«ð²ð¨ð§ðžðŸŒž ðŠð¢ð­ð§ð¢ ð†ðšð«ð¦ð¢ ð‡ ððšð¡ðšð«ðŸ¥µ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '1:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 1:00 ððŒ â³ ð‹ð®ð§ðœð¡ ðŠðšð«ð¥ð¨ ð€ð›ð¡ð¢ðŸ˜‡ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '2:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 2:00 ððŒ â³ ðð¨ð¥ð¨ ð‰ðšð¢ ð’ð¡ð«ðžðž ð‘ðšð¦ ðŸ’–ðŸ˜‡ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '3:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 3:00 ððŒ â³ ð“ð¡ð¨ððš ð€ðšð«ðšð¦ ðŠðšð«ð¥ð¨ ð€ð›ð¡ð¢ðŸ˜˜ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '4:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 4:00 ððŒ â³ ððšð¡ð®ð­ ð†ðšð«ð¦ð¢ ð‡ ð€ðšð£ðŸ¥µ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ  ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '5:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 5:00 ððŒ â³ ð‡ðšð« ð‡ðšð¥ ðŒðž ð‡ðšð¦ðžð¬ð¡ðš ðŠð¡ð®ð¬ð¡ ð‘ðšð¡ð¨ ðŸ˜‡ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '6:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 6:00 ððŒ â³ ðð¨ð¥ð¨ ð’ðšð­ð² ðŒðž ð‰ðšð¢ð­ðž ð‡ ð’ðšð§ðšð­ðšð§ ðƒð¡ðšð«ð¦ ðŸ’– â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§  âƒ â”â”â”â”â” â—\n\n' },
    { time: '7:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 7:00 ððŒ â³ ðŠð¡ð®ð¬ð¡ ð‘ðšð¡ð§ðš ðŒðžð«ðš ðð«ð¨ð¦ð¢ð¬ðž ðŸ’ž â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '8:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 8:00 ððŒ â³ ðƒð¢ð§ð§ðžð« ðŠðšð«ð¥ð¨ ð’ðšð«ðž ðŸ˜‹ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '9:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 9:00 ððŒ â³ ðŒðžð«ðž ð‚ð®ð­ðž ððšð›ð² ðŸ’ž â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '10:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 10:00 ððŒ â³ ð“ð®ð¦ ðŒð®ð¬ð¤ð®ð«ðšð¨ ð‡ðšð¬ð¨ ð‡ðšð¦ðžð¬ð¡ðš â˜ºï¸ â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' },
    { time: '11:00 PM', message: 'â— â”â”â”â”â”â”â”[ ð—§ð—œð— ð—˜ ]â”â”â”â”â”â”â” â—\n\nâ”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€ ðð¨ð° ð¢ð­ð¬ ð­ð¢ð¦ðž 11:00 ððŒ â³ ðð›ð² ðŠð¡ðšð§ðš ðŠð¡ðšð²ðš ð€ðšð©ððž? â”€â”€â”€â”€ â€¢ðŸ’œâ€¢ â”€â”€â”€â”€\n\nâ— â”â”â”â”â” âƒ ð’ð®ð¡ðžð› ð¤ð¡ðšð§ âƒ â”â”â”â”â” â—\n\n' }
];

const imageLinks = [
"https://i.imgur.com/k8UhKzZ.gif",
"https://i.imgur.com/F56j5k5.gif",
"https://i.imgur.com/BoAhWtB.gif",
"https://i.imgur.com/X3DxmDn.gif",
"https://i.imgur.com/BPucNlJ.gif",
"https://i.imgur.com/Rv2YxnR.gif",
];

module.exports.onLoad = ({ api }) => {
  console.log(
    chalk.bold.hex("#00c300")(
      "============ SUCCESFULLY LOADED THE AUTOSENT COMMAND ============"
    )
  );

  messages.forEach(({ time, message }) => {
    const [hour, minute, period] = time.split(/[: ]/);
    let hour24 = parseInt(hour, 10);
    if (period === "PM" && hour !== "12") {
      hour24 += 12;
    } else if (period === "AM" && hour === "12") {
      hour24 = 0;
    }

    const scheduledTime = moment
      .tz({ hour: hour24, minute: parseInt(minute, 10) }, "Asia/Kolkata")
      .toDate();

    schedule.scheduleJob(scheduledTime, () => {
      if (!global.data || !global.data.allThreadID) {
        console.error("Error: `global.data.allThreadID` is not defined.");
        return;
      }

      global.data.allThreadID.forEach((threadID) => {
        // Select a random image link
        const randomImage =
          imageLinks[Math.floor(Math.random() * imageLinks.length)];

        // File path to save the image temporarily
        const filePath = `${__dirname}/cache/temp_image.jpg`;

        // Download the image
        request(randomImage)
          .pipe(fs.createWriteStream(filePath))
          .on("close", () => {
            // Send the message with the downloaded image
            api.sendMessage(
              {
                body: message,
                attachment: fs.createReadStream(filePath),
              },
              threadID,
              (error) => {
                if (error) {
                  console.error(`Failed to send message to ${threadID}:`, error);
                }
              }
            );
          });
      });
    });
  });
};

module.exports.run = () => {
  // This function is intentionally left empty
};
